from argparse import Namespace
from unittest.mock import patch

import pytest

from src.task_6_Barvynska.drivers import Driver, DriversTemp
from src.task_6_Barvynska.entry_point import main
from src.task_6_Barvynska.files import Files
from src.task_6_Barvynska.format_file import FormatFileTemp


@patch(
    "src.task_6_Barvynska.entry_point.init_args",
    return_value=Namespace(files=None, asc=True, desc=False, driver=None),
)
def test_main_without_args(mock_init_args):
    with pytest.raises(Exception) as error:
        main()
    assert str(error.value) == "Required argument not specified '--files'"
    mock_init_args.assert_called_with()


@patch(
    "src.task_6_Barvynska.entry_point.init_args",
    return_value=Namespace(files='D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file', asc=True, desc=False, driver=None),
)
@patch("src.task_6_Barvynska.files.Files.find_files", return_value=['D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file\\start.log', 'D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file\\end.log', 'D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file\\abbreviations.txt'])
@patch("src.task_6_Barvynska.format_file.FormatFileTemp.format_file_abbreviation_data", return_value={'DRR': {'driver': 'Daniel Ricciardo', 'car': 'RED BULL RACING TAG HEUER'}, 'SVF': {'driver': 'Sebastian Vettel', 'car': 'FERRARI'}, 'LHM': {'driver': 'Lewis Hamilton', 'car': 'MERCEDES'}, 'KRF': {'driver': 'Kimi RГ¤ikkГ¶nen', 'car': 'FERRARI'}, 'VBM': {'driver': 'Valtteri Bottas', 'car': 'MERCEDES'}, 'EOF': {'driver': 'Esteban Ocon', 'car': 'FORCE INDIA MERCEDES'}, 'FAM': {'driver': 'Fernando Alonso', 'car': 'MCLAREN RENAULT'}, 'CSR': {'driver': 'Carlos Sainz', 'car': 'RENAULT'}, 'SPF': {'driver': 'Sergio Perez', 'car': 'FORCE INDIA MERCEDES'}, 'PGS': {'driver': 'Pierre Gasly', 'car': 'SCUDERIA TORO ROSSO HONDA'}, 'NHR': {'driver': 'Nico Hulkenberg', 'car': 'RENAULT'}, 'SVM': {'driver': 'Stoffel Vandoorne', 'car': 'MCLAREN RENAULT'}, 'SSW': {'driver': 'Sergey Sirotkin', 'car': 'WILLIAMS MERCEDES'}, 'CLS': {'driver': 'Charles Leclerc', 'car': 'SAUBER FERRARI'}, 'RGH': {'driver': 'Romain Grosjean', 'car': 'HAAS FERRARI'}, 'BHS': {'driver': 'Brendon Hartley', 'car': 'SCUDERIA TORO ROSSO HONDA'}, 'MES': {'driver': 'Marcus Ericsson', 'car': 'SAUBER FERRARI'}, 'LSW': {'driver': 'Lance Stroll', 'car': 'WILLIAMS MERCEDES'}, 'KMH': {'driver': 'Kevin Magnussen', 'car': 'HAAS FERRARI'}})
@patch("src.task_6_Barvynska.format_file.FormatFileTemp.format_file_time", return_value={'SVF': '12:02:58.917', 'NHR': '12:02:49.914', 'FAM': '12:13:04.512', 'KRF': '12:03:01.250', 'SVM': '12:18:37.735', 'MES': '12:04:45.513', 'LSW': '12:06:13.511', 'BHS': '12:14:51.985', 'EOF': '12:17:58.810', 'RGH': '12:05:14.511', 'SSW': '12:16:11.648', 'KMH': '12:02:51.003', 'PGS': '12:07:23.645', 'CSR': '12:03:15.145', 'SPF': '12:12:01.035', 'DRR': '12:14:12.054', 'LHM': '12:18:20.125', 'CLS': '12:09:41.921', 'VBM': '12:00:00.000'})
@patch("src.task_6_Barvynska.drivers.DriversTemp.build_report", return_value=[Driver('DRR', 'Daniel Ricciardo', 'RED BULL RACING TAG HEUER', '12:14:12.054', '12:11:24.067', '57:12.013'), Driver('SVF', 'Sebastian Vettel', 'FERRARI', '12:02:58.917', '12:04:03.332', '1:04.415'), Driver('LHM', 'Lewis Hamilton', 'MERCEDES', '12:18:20.125', '12:11:32.585', '53:12.460'), Driver('KRF', 'Kimi RГ¤ikkГ¶nen', 'FERRARI', '12:03:01.250', '12:04:13.889', '1:12.639'), Driver('VBM', 'Valtteri Bottas', 'MERCEDES', '12:00:00.000', '12:01:12.434', '1:12.434'), Driver('EOF', 'Esteban Ocon', 'FORCE INDIA MERCEDES', '12:17:58.810', '12:12:11.838', '54:13.028'), Driver('FAM', 'Fernando Alonso', 'MCLAREN RENAULT', '12:13:04.512', '12:14:17.169', '1:12.657'), Driver('CSR', 'Carlos Sainz', 'RENAULT', '12:03:15.145', '12:04:28.095', '1:12.950'), Driver('SPF', 'Sergio Perez', 'FORCE INDIA MERCEDES', '12:12:01.035', '12:13:13.883', '1:12.848'), Driver('PGS', 'Pierre Gasly', 'SCUDERIA TORO ROSSO HONDA', '12:07:23.645', '12:08:36.586', '1:12.941'), Driver('NHR', 'Nico Hulkenberg', 'RENAULT', '12:02:49.914', '12:04:02.979', '1:13.065'), Driver('SVM', 'Stoffel Vandoorne', 'MCLAREN RENAULT', '12:18:37.735', '12:19:50.198', '1:12.463'), Driver('SSW', 'Sergey Sirotkin', 'WILLIAMS MERCEDES', '12:16:11.648', '12:11:24.354', '55:12.706'), Driver('CLS', 'Charles Leclerc', 'SAUBER FERRARI', '12:09:41.921', '12:10:54.750', '1:12.829'), Driver('RGH', 'Romain Grosjean', 'HAAS FERRARI', '12:05:14.511', '12:06:27.441', '1:12.930'), Driver('BHS', 'Brendon Hartley', 'SCUDERIA TORO ROSSO HONDA', '12:14:51.985', '12:16:05.164', '1:13.179'), Driver('MES', 'Marcus Ericsson', 'SAUBER FERRARI', '12:04:45.513', '12:05:58.778', '1:13.265'), Driver('LSW', 'Lance Stroll', 'WILLIAMS MERCEDES', '12:06:13.511', '12:07:26.834', '1:13.323'), Driver('KMH', 'Kevin Magnussen', 'HAAS FERRARI', '12:02:51.003', '12:04:04.396', '1:13.393')])
def test_main_with_file(mock_build_report, mock_format_file_time, mock_format_file_abbreviation_data, mock_find_files, mock_init_args):
    main()
    mock_build_report.assert_called_with({'DRR': {'driver': 'Daniel Ricciardo', 'car': 'RED BULL RACING TAG HEUER'}, 'SVF': {'driver': 'Sebastian Vettel', 'car': 'FERRARI'}, 'LHM': {'driver': 'Lewis Hamilton', 'car': 'MERCEDES'}, 'KRF': {'driver': 'Kimi RГ¤ikkГ¶nen', 'car': 'FERRARI'}, 'VBM': {'driver': 'Valtteri Bottas', 'car': 'MERCEDES'}, 'EOF': {'driver': 'Esteban Ocon', 'car': 'FORCE INDIA MERCEDES'}, 'FAM': {'driver': 'Fernando Alonso', 'car': 'MCLAREN RENAULT'}, 'CSR': {'driver': 'Carlos Sainz', 'car': 'RENAULT'}, 'SPF': {'driver': 'Sergio Perez', 'car': 'FORCE INDIA MERCEDES'}, 'PGS': {'driver': 'Pierre Gasly', 'car': 'SCUDERIA TORO ROSSO HONDA'}, 'NHR': {'driver': 'Nico Hulkenberg', 'car': 'RENAULT'}, 'SVM': {'driver': 'Stoffel Vandoorne', 'car': 'MCLAREN RENAULT'}, 'SSW': {'driver': 'Sergey Sirotkin', 'car': 'WILLIAMS MERCEDES'}, 'CLS': {'driver': 'Charles Leclerc', 'car': 'SAUBER FERRARI'}, 'RGH': {'driver': 'Romain Grosjean', 'car': 'HAAS FERRARI'}, 'BHS': {'driver': 'Brendon Hartley', 'car': 'SCUDERIA TORO ROSSO HONDA'}, 'MES': {'driver': 'Marcus Ericsson', 'car': 'SAUBER FERRARI'}, 'LSW': {'driver': 'Lance Stroll', 'car': 'WILLIAMS MERCEDES'}, 'KMH': {'driver': 'Kevin Magnussen', 'car': 'HAAS FERRARI'}}, {'SVF': '12:02:58.917', 'NHR': '12:02:49.914', 'FAM': '12:13:04.512', 'KRF': '12:03:01.250', 'SVM': '12:18:37.735', 'MES': '12:04:45.513', 'LSW': '12:06:13.511', 'BHS': '12:14:51.985', 'EOF': '12:17:58.810', 'RGH': '12:05:14.511', 'SSW': '12:16:11.648', 'KMH': '12:02:51.003', 'PGS': '12:07:23.645', 'CSR': '12:03:15.145', 'SPF': '12:12:01.035', 'DRR': '12:14:12.054', 'LHM': '12:18:20.125', 'CLS': '12:09:41.921', 'VBM': '12:00:00.000'}, {'SVF': '12:02:58.917', 'NHR': '12:02:49.914', 'FAM': '12:13:04.512', 'KRF': '12:03:01.250', 'SVM': '12:18:37.735', 'MES': '12:04:45.513', 'LSW': '12:06:13.511', 'BHS': '12:14:51.985', 'EOF': '12:17:58.810', 'RGH': '12:05:14.511', 'SSW': '12:16:11.648', 'KMH': '12:02:51.003', 'PGS': '12:07:23.645', 'CSR': '12:03:15.145', 'SPF': '12:12:01.035', 'DRR': '12:14:12.054', 'LHM': '12:18:20.125', 'CLS': '12:09:41.921', 'VBM': '12:00:00.000'})
    mock_format_file_time.assert_called_with('MES2018-05-24_12:05:58.778 \nRGH2018-05-24_12:06:27.441\nSPF2018-05-24_12:13:13.883\nLSW2018-05-24_12:07:26.834\nDRR2018-05-24_12:11:24.067\nNHR2018-05-24_12:04:02.979\nCSR2018-05-24_12:04:28.095\nKMH2018-05-24_12:04:04.396\nBHS2018-05-24_12:16:05.164\nSVM2018-05-24_12:19:50.198\nKRF2018-05-24_12:04:13.889\nVBM2018-05-24_12:01:12.434\nSVF2018-05-24_12:04:03.332\nEOF2018-05-24_12:12:11.838\nPGS2018-05-24_12:08:36.586\nSSW2018-05-24_12:11:24.354\nFAM2018-05-24_12:14:17.169\nCLS2018-05-24_12:10:54.750\nLHM2018-05-24_12:11:32.585')
    mock_format_file_abbreviation_data.assert_called_with('DRR_Daniel Ricciardo_RED BULL RACING TAG HEUER\nSVF_Sebastian Vettel_FERRARI\nLHM_Lewis Hamilton_MERCEDES\nKRF_Kimi RГ¤ikkГ¶nen_FERRARI\nVBM_Valtteri Bottas_MERCEDES\nEOF_Esteban Ocon_FORCE INDIA MERCEDES\nFAM_Fernando Alonso_MCLAREN RENAULT\nCSR_Carlos Sainz_RENAULT\nSPF_Sergio Perez_FORCE INDIA MERCEDES\nPGS_Pierre Gasly_SCUDERIA TORO ROSSO HONDA\nNHR_Nico Hulkenberg_RENAULT\nSVM_Stoffel Vandoorne_MCLAREN RENAULT\nSSW_Sergey Sirotkin_WILLIAMS MERCEDES\nCLS_Charles Leclerc_SAUBER FERRARI\nRGH_Romain Grosjean_HAAS FERRARI\nBHS_Brendon Hartley_SCUDERIA TORO ROSSO HONDA\nMES_Marcus Ericsson_SAUBER FERRARI\nLSW_Lance Stroll_WILLIAMS MERCEDES\nKMH_Kevin Magnussen_HAAS FERRARI\n')
    mock_find_files.assert_called_with('D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file')
    mock_init_args.asssert_called_once()


@patch(
    "src.task_6_Barvynska.entry_point.init_args",
    return_value=Namespace(files='D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file', asc=True, desc=False, driver='Daniel Ricciardo'),
)
@patch("src.task_6_Barvynska.drivers.DriversTemp.info_driver", return_value=[Driver('DRR', 'Daniel Ricciardo', 'RED BULL RACING TAG HEUER', '12:14:12.054', '12:11:24.067', '57:12.013')])
def test_main_with_driver(mock_info_driver, mock_init_args):
    main()
    mock_info_driver.assert_called_with([Driver('DRR', 'Daniel Ricciardo', 'RED BULL RACING TAG HEUER', '12:14:12.054', '12:11:24.067', '57:12.013'), Driver('SVF', 'Sebastian Vettel', 'FERRARI', '12:02:58.917', '12:04:03.332', '1:04.415'), Driver('LHM', 'Lewis Hamilton', 'MERCEDES', '12:18:20.125', '12:11:32.585', '53:12.460'), Driver('KRF', 'Kimi RГ¤ikkГ¶nen', 'FERRARI', '12:03:01.250', '12:04:13.889', '1:12.639'), Driver('VBM', 'Valtteri Bottas', 'MERCEDES', '12:00:00.000', '12:01:12.434', '1:12.434'), Driver('EOF', 'Esteban Ocon', 'FORCE INDIA MERCEDES', '12:17:58.810', '12:12:11.838', '54:13.028'), Driver('FAM', 'Fernando Alonso', 'MCLAREN RENAULT', '12:13:04.512', '12:14:17.169', '1:12.657'), Driver('CSR', 'Carlos Sainz', 'RENAULT', '12:03:15.145', '12:04:28.095', '1:12.950'), Driver('SPF', 'Sergio Perez', 'FORCE INDIA MERCEDES', '12:12:01.035', '12:13:13.883', '1:12.848'), Driver('PGS', 'Pierre Gasly', 'SCUDERIA TORO ROSSO HONDA', '12:07:23.645', '12:08:36.586', '1:12.941'), Driver('NHR', 'Nico Hulkenberg', 'RENAULT', '12:02:49.914', '12:04:02.979', '1:13.065'), Driver('SVM', 'Stoffel Vandoorne', 'MCLAREN RENAULT', '12:18:37.735', '12:19:50.198', '1:12.463'), Driver('SSW', 'Sergey Sirotkin', 'WILLIAMS MERCEDES', '12:16:11.648', '12:11:24.354', '55:12.706'), Driver('CLS', 'Charles Leclerc', 'SAUBER FERRARI', '12:09:41.921', '12:10:54.750', '1:12.829'), Driver('RGH', 'Romain Grosjean', 'HAAS FERRARI', '12:05:14.511', '12:06:27.441', '1:12.930'), Driver('BHS', 'Brendon Hartley', 'SCUDERIA TORO ROSSO HONDA', '12:14:51.985', '12:16:05.164', '1:13.179'), Driver('MES', 'Marcus Ericsson', 'SAUBER FERRARI', '12:04:45.513', '12:05:58.778', '1:13.265'), Driver('LSW', 'Lance Stroll', 'WILLIAMS MERCEDES', '12:06:13.511', '12:07:26.834', '1:13.323'), Driver('KMH', 'Kevin Magnussen', 'HAAS FERRARI', '12:02:51.003', '12:04:04.396', '1:13.393')], 'Daniel Ricciardo')
    mock_init_args.asssert_called_once()


@patch(
    "src.task_6_Barvynska.entry_point.init_args",
    return_value=Namespace(files='D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file', asc=True, desc=False, driver=None),
)
@patch("src.task_6_Barvynska.drivers.DriversTemp.sort_data", return_value=[Driver('SVF', 'Sebastian Vettel', 'FERRARI', '12:02:58.917', '12:04:03.332', '1:04.415'), Driver('VBM', 'Valtteri Bottas', 'MERCEDES', '12:00:00.000', '12:01:12.434', '1:12.434'), Driver('SVM', 'Stoffel Vandoorne', 'MCLAREN RENAULT', '12:18:37.735', '12:19:50.198', '1:12.463'), Driver('KRF', 'Kimi RГ¤ikkГ¶nen', 'FERRARI', '12:03:01.250', '12:04:13.889', '1:12.639'), Driver('FAM', 'Fernando Alonso', 'MCLAREN RENAULT', '12:13:04.512', '12:14:17.169', '1:12.657'), Driver('CLS', 'Charles Leclerc', 'SAUBER FERRARI', '12:09:41.921', '12:10:54.750', '1:12.829'), Driver('SPF', 'Sergio Perez', 'FORCE INDIA MERCEDES', '12:12:01.035', '12:13:13.883', '1:12.848'), Driver('RGH', 'Romain Grosjean', 'HAAS FERRARI', '12:05:14.511', '12:06:27.441', '1:12.930'), Driver('PGS', 'Pierre Gasly', 'SCUDERIA TORO ROSSO HONDA', '12:07:23.645', '12:08:36.586', '1:12.941'), Driver('CSR', 'Carlos Sainz', 'RENAULT', '12:03:15.145', '12:04:28.095', '1:12.950'), Driver('NHR', 'Nico Hulkenberg', 'RENAULT', '12:02:49.914', '12:04:02.979', '1:13.065'), Driver('BHS', 'Brendon Hartley', 'SCUDERIA TORO ROSSO HONDA', '12:14:51.985', '12:16:05.164', '1:13.179'), Driver('MES', 'Marcus Ericsson', 'SAUBER FERRARI', '12:04:45.513', '12:05:58.778', '1:13.265'), Driver('LSW', 'Lance Stroll', 'WILLIAMS MERCEDES', '12:06:13.511', '12:07:26.834', '1:13.323'), Driver('KMH', 'Kevin Magnussen', 'HAAS FERRARI', '12:02:51.003', '12:04:04.396', '1:13.393'), Driver('LHM', 'Lewis Hamilton', 'MERCEDES', '12:18:20.125', '12:11:32.585', '53:12.460'), Driver('EOF', 'Esteban Ocon', 'FORCE INDIA MERCEDES', '12:17:58.810', '12:12:11.838', '54:13.028'), Driver('SSW', 'Sergey Sirotkin', 'WILLIAMS MERCEDES', '12:16:11.648', '12:11:24.354', '55:12.706'), Driver('DRR', 'Daniel Ricciardo', 'RED BULL RACING TAG HEUER', '12:14:12.054', '12:11:24.067', '57:12.013')])
def test_main_sort_data_asc(mock_sort_data, mock_init_args):
    main()
    mock_sort_data.assert_called_with([Driver('DRR', 'Daniel Ricciardo', 'RED BULL RACING TAG HEUER', '12:14:12.054', '12:11:24.067', '57:12.013'), Driver('SVF', 'Sebastian Vettel', 'FERRARI', '12:02:58.917', '12:04:03.332', '1:04.415'), Driver('LHM', 'Lewis Hamilton', 'MERCEDES', '12:18:20.125', '12:11:32.585', '53:12.460'), Driver('KRF', 'Kimi RГ¤ikkГ¶nen', 'FERRARI', '12:03:01.250', '12:04:13.889', '1:12.639'), Driver('VBM', 'Valtteri Bottas', 'MERCEDES', '12:00:00.000', '12:01:12.434', '1:12.434'), Driver('EOF', 'Esteban Ocon', 'FORCE INDIA MERCEDES', '12:17:58.810', '12:12:11.838', '54:13.028'), Driver('FAM', 'Fernando Alonso', 'MCLAREN RENAULT', '12:13:04.512', '12:14:17.169', '1:12.657'), Driver('CSR', 'Carlos Sainz', 'RENAULT', '12:03:15.145', '12:04:28.095', '1:12.950'), Driver('SPF', 'Sergio Perez', 'FORCE INDIA MERCEDES', '12:12:01.035', '12:13:13.883', '1:12.848'), Driver('PGS', 'Pierre Gasly', 'SCUDERIA TORO ROSSO HONDA', '12:07:23.645', '12:08:36.586', '1:12.941'), Driver('NHR', 'Nico Hulkenberg', 'RENAULT', '12:02:49.914', '12:04:02.979', '1:13.065'), Driver('SVM', 'Stoffel Vandoorne', 'MCLAREN RENAULT', '12:18:37.735', '12:19:50.198', '1:12.463'), Driver('SSW', 'Sergey Sirotkin', 'WILLIAMS MERCEDES', '12:16:11.648', '12:11:24.354', '55:12.706'), Driver('CLS', 'Charles Leclerc', 'SAUBER FERRARI', '12:09:41.921', '12:10:54.750', '1:12.829'), Driver('RGH', 'Romain Grosjean', 'HAAS FERRARI', '12:05:14.511', '12:06:27.441', '1:12.930'), Driver('BHS', 'Brendon Hartley', 'SCUDERIA TORO ROSSO HONDA', '12:14:51.985', '12:16:05.164', '1:13.179'), Driver('MES', 'Marcus Ericsson', 'SAUBER FERRARI', '12:04:45.513', '12:05:58.778', '1:13.265'), Driver('LSW', 'Lance Stroll', 'WILLIAMS MERCEDES', '12:06:13.511', '12:07:26.834', '1:13.323'), Driver('KMH', 'Kevin Magnussen', 'HAAS FERRARI', '12:02:51.003', '12:04:04.396', '1:13.393')], False)
    mock_init_args.asssert_called_once()


@patch(
    "src.task_6_Barvynska.entry_point.init_args",
    return_value=Namespace(files='D:\\Sasha\\Projects\\task-6-report-of-monaco-2018-racing\\data_for_solution_task_6\\tests\\open_all_file', asc=False, desc=True, driver=None),
)
@patch("src.task_6_Barvynska.drivers.DriversTemp.sort_data", return_value=[Driver('DRR', 'Daniel Ricciardo', 'RED BULL RACING TAG HEUER', '12:14:12.054', '12:11:24.067', '57:12.013'), Driver('SSW', 'Sergey Sirotkin', 'WILLIAMS MERCEDES', '12:16:11.648', '12:11:24.354', '55:12.706'), Driver('EOF', 'Esteban Ocon', 'FORCE INDIA MERCEDES', '12:17:58.810', '12:12:11.838', '54:13.028'), Driver('LHM', 'Lewis Hamilton', 'MERCEDES', '12:18:20.125', '12:11:32.585', '53:12.460'), Driver('KMH', 'Kevin Magnussen', 'HAAS FERRARI', '12:02:51.003', '12:04:04.396', '1:13.393'), Driver('LSW', 'Lance Stroll', 'WILLIAMS MERCEDES', '12:06:13.511', '12:07:26.834', '1:13.323'), Driver('MES', 'Marcus Ericsson', 'SAUBER FERRARI', '12:04:45.513', '12:05:58.778', '1:13.265'), Driver('BHS', 'Brendon Hartley', 'SCUDERIA TORO ROSSO HONDA', '12:14:51.985', '12:16:05.164', '1:13.179'), Driver('NHR', 'Nico Hulkenberg', 'RENAULT', '12:02:49.914', '12:04:02.979', '1:13.065'), Driver('CSR', 'Carlos Sainz', 'RENAULT', '12:03:15.145', '12:04:28.095', '1:12.950'), Driver('PGS', 'Pierre Gasly', 'SCUDERIA TORO ROSSO HONDA', '12:07:23.645', '12:08:36.586', '1:12.941'), Driver('RGH', 'Romain Grosjean', 'HAAS FERRARI', '12:05:14.511', '12:06:27.441', '1:12.930'), Driver('SPF', 'Sergio Perez', 'FORCE INDIA MERCEDES', '12:12:01.035', '12:13:13.883', '1:12.848'), Driver('CLS', 'Charles Leclerc', 'SAUBER FERRARI', '12:09:41.921', '12:10:54.750', '1:12.829'), Driver('FAM', 'Fernando Alonso', 'MCLAREN RENAULT', '12:13:04.512', '12:14:17.169', '1:12.657'), Driver('KRF', 'Kimi RГ¤ikkГ¶nen', 'FERRARI', '12:03:01.250', '12:04:13.889', '1:12.639'), Driver('SVM', 'Stoffel Vandoorne', 'MCLAREN RENAULT', '12:18:37.735', '12:19:50.198', '1:12.463'), Driver('VBM', 'Valtteri Bottas', 'MERCEDES', '12:00:00.000', '12:01:12.434', '1:12.434'), Driver('SVF', 'Sebastian Vettel', 'FERRARI', '12:02:58.917', '12:04:03.332', '1:04.415')])
def test_main_sort_data_desc(mock_sort_data, mock_init_args):
    main()
    mock_sort_data.assert_called_with([Driver('DRR', 'Daniel Ricciardo', 'RED BULL RACING TAG HEUER', '12:14:12.054', '12:11:24.067', '57:12.013'), Driver('SVF', 'Sebastian Vettel', 'FERRARI', '12:02:58.917', '12:04:03.332', '1:04.415'), Driver('LHM', 'Lewis Hamilton', 'MERCEDES', '12:18:20.125', '12:11:32.585', '53:12.460'), Driver('KRF', 'Kimi RГ¤ikkГ¶nen', 'FERRARI', '12:03:01.250', '12:04:13.889', '1:12.639'), Driver('VBM', 'Valtteri Bottas', 'MERCEDES', '12:00:00.000', '12:01:12.434', '1:12.434'), Driver('EOF', 'Esteban Ocon', 'FORCE INDIA MERCEDES', '12:17:58.810', '12:12:11.838', '54:13.028'), Driver('FAM', 'Fernando Alonso', 'MCLAREN RENAULT', '12:13:04.512', '12:14:17.169', '1:12.657'), Driver('CSR', 'Carlos Sainz', 'RENAULT', '12:03:15.145', '12:04:28.095', '1:12.950'), Driver('SPF', 'Sergio Perez', 'FORCE INDIA MERCEDES', '12:12:01.035', '12:13:13.883', '1:12.848'), Driver('PGS', 'Pierre Gasly', 'SCUDERIA TORO ROSSO HONDA', '12:07:23.645', '12:08:36.586', '1:12.941'), Driver('NHR', 'Nico Hulkenberg', 'RENAULT', '12:02:49.914', '12:04:02.979', '1:13.065'), Driver('SVM', 'Stoffel Vandoorne', 'MCLAREN RENAULT', '12:18:37.735', '12:19:50.198', '1:12.463'), Driver('SSW', 'Sergey Sirotkin', 'WILLIAMS MERCEDES', '12:16:11.648', '12:11:24.354', '55:12.706'), Driver('CLS', 'Charles Leclerc', 'SAUBER FERRARI', '12:09:41.921', '12:10:54.750', '1:12.829'), Driver('RGH', 'Romain Grosjean', 'HAAS FERRARI', '12:05:14.511', '12:06:27.441', '1:12.930'), Driver('BHS', 'Brendon Hartley', 'SCUDERIA TORO ROSSO HONDA', '12:14:51.985', '12:16:05.164', '1:13.179'), Driver('MES', 'Marcus Ericsson', 'SAUBER FERRARI', '12:04:45.513', '12:05:58.778', '1:13.265'), Driver('LSW', 'Lance Stroll', 'WILLIAMS MERCEDES', '12:06:13.511', '12:07:26.834', '1:13.323'), Driver('KMH', 'Kevin Magnussen', 'HAAS FERRARI', '12:02:51.003', '12:04:04.396', '1:13.393')], True)
    mock_init_args.asssert_called_once()
